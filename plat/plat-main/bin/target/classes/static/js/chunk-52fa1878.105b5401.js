(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52fa1878"],{"028b":function(e,t,n){"use strict";var o=n("343d"),r=n.n(o);r.a},"0fea":function(e,t,n){"use strict";n.d(t,"i",(function(){return a})),n.d(t,"j",(function(){return i})),n.d(t,"l",(function(){return s})),n.d(t,"m",(function(){return l})),n.d(t,"n",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"q",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"k",(function(){return m})),n.d(t,"t",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"o",(function(){return h})),n.d(t,"u",(function(){return v})),n.d(t,"p",(function(){return y})),n.d(t,"v",(function(){return w})),n.d(t,"e",(function(){return j})),n.d(t,"g",(function(){return g})),n.d(t,"r",(function(){return C})),n.d(t,"b",(function(){return O})),n.d(t,"h",(function(){return k})),n.d(t,"s",(function(){return D})),n.d(t,"c",(function(){return I}));var o=n("b775"),r={user:"/myuser/list",role:"/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree",departmentTree:"/department/tree",departmentList:"/department/find",departmentPost:"/department/post",departmentPut:"/department/put",departmentDelete:"/department/delete",subCompanyTree:"/subCompany/tree",subCompanyTree2:"/subCompany/tree2",subCompanyUserTree:"/subCompany/user-tree",subCompanyList:"/subCompany/find",subCompanyPost:"/subCompany/post",subCompanyPut:"/subCompany/put",subCompanyDelete:"/subCompany/delete",userList:"/user/find",userPost:"/user/post",userPut:"/user/put",userDelete:"/user/delete",workInfoList:"/workInfo/find",workInfoPost:"/workInfo/post",workInfoPut:"/workInfo/put",workInfoDelete:"/workInfo/delete",familyInfoList:"/familyInfo/find",familyInfoPost:"/familyInfo/post",familyInfoPut:"/familyInfo/put",familyInfoDelete:"/familyInfo/delete",jobList:"/jobMask/find",jobPost:"/jobMask/post",jobPut:"/jobMask/put",jobDelete:"/jobMask/delete",teamWork:"/teamWork",userTree:"/subCompany/user-tree/"};function a(e){return Object(o["b"])({url:r.role,method:"get",params:e})}function i(e){return Object(o["b"])({url:r.service,method:"get",params:e})}function s(e){return Object(o["b"])({url:r.subCompanyTree,method:"post",data:e})}function l(e){return Object(o["b"])({url:r.subCompanyTree2,method:"post",data:e})}function u(e){return Object(o["b"])({url:r.subCompanyUserTree,method:"post",data:e})}function c(e){return Object(o["b"])({url:r.departmentList,method:"post",params:e})}function d(e){var t="";return t=e.id&&""!==e.id?r.departmentPut:r.departmentPost,Object(o["b"])({url:t,method:"post",data:e})}function f(e){return Object(o["b"])({url:r.departmentDelete,method:"post",data:e})}function m(e){return Object(o["b"])({url:r.subCompanyList,method:"post",params:e})}function b(e){var t="";return t=e.id&&""!==e.id?r.subCompanyPut:r.subCompanyPost,Object(o["b"])({url:t,method:"post",data:e})}function p(e){return Object(o["b"])({url:r.subCompanyDelete,method:"post",data:e})}function h(e){return Object(o["b"])({url:r.userList,method:"post",params:e})}function v(e){var t="";return t=e.id&&""!==e.id?r.userPut:r.userPost,Object(o["b"])({url:t,method:"post",data:e})}function y(e){return Object(o["b"])({url:r.workInfoList,method:"post",params:e})}function w(e){var t="";return t=e.id&&""!==e.id?r.workInfoPut:r.workInfoPost,Object(o["b"])({url:t,method:"post",data:e})}function j(e){return Object(o["b"])({url:r.workInfoDelete,method:"post",data:e})}function g(e){return Object(o["b"])({url:r.familyInfoList,method:"post",params:e})}function C(e){var t="";return t=e.id&&""!==e.id?r.familyInfoPut:r.familyInfoPost,Object(o["b"])({url:t,method:"post",data:e})}function O(e){return Object(o["b"])({url:r.familyInfoDelete,method:"post",data:e})}function k(e){return Object(o["b"])({url:r.jobList,method:"post",params:e})}function D(e){var t="";return t=e.id&&""!==e.id?r.jobPut:r.jobPost,Object(o["b"])({url:t,method:"post",data:e})}function I(e){return Object(o["b"])({url:r.jobDelete,method:"post",data:e})}},"343d":function(e,t,n){},"405e":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-card",{attrs:{bordered:!1}},[n("job-list",{ref:"table",on:{onAdd:e.handleAdd,onEdit:e.onEdit,onDetail:e.onDetail}}),n("edit",{ref:"edit",on:{ok:e.handleSaveOk,close:e.handleSaveClose}})],1)},r=[],a=n("2afb"),i=n("144a"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"table-page-search-wrapper"},[n("a-form",{attrs:{layout:"inline"}},[n("a-row",{attrs:{gutter:48}},[n("a-col",{attrs:{md:8,sm:24}},[n("a-form-item",{attrs:{label:"岗位名称"}},[n("a-input",{attrs:{placeholder:""},model:{value:e.queryParam.jobName,callback:function(t){e.$set(e.queryParam,"jobName",t)},expression:"queryParam.jobName"}})],1)],1),n("a-col",{attrs:{md:e.advanced?24:8,sm:24}},[n("span",{staticClass:"table-page-search-submitButtons",style:e.advanced&&{float:"right",overflow:"hidden"}||{}},[n("a-button",{attrs:{type:"primary"},on:{click:function(t){return e.$refs.table.refresh(!0)}}},[e._v("查询")]),n("a-button",{staticStyle:{"margin-left":"8px"},on:{click:function(){return e.queryParam={}}}},[e._v("重置")])],1)])],1)],1)],1),n("div",{staticClass:"table-operator"},[n("a-button",{attrs:{type:"primary",icon:"plus"},on:{click:function(t){return e.handleAdd()}}},[e._v("新建")]),e.selectedRowKeys.length>0?n("a-dropdown",{directives:[{name:"action",rawName:"v-action:update",arg:"update"}]},[n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",{key:"1",on:{click:function(t){return e.batchDelete()}}},[n("a-icon",{attrs:{type:"delete"}}),e._v("删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1):e._e()],1),n("s-table",{ref:"table",attrs:{size:"default",rowKey:"id",columns:e.columns,data:e.loadData,alert:e.options.alert,rowSelection:e.options.rowSelection},scopedSlots:e._u([{key:"serial",fn:function(t,o,r){return n("span",{},[e._v(" "+e._s(r+1)+" ")])}},{key:"desc",fn:function(t,o,r){return n("span",{},[n("Ellipsis",{attrs:{length:36,tooltip:""}},[e._v(e._s(t))])],1)}},{key:"action",fn:function(t,o){return n("span",{},[[n("a",{on:{click:function(t){return e.handleEdit(o)}}},[e._v("编辑")]),n("a-divider",{attrs:{type:"vertical"}})],n("a-dropdown",[n("a",{staticClass:"ant-dropdown-link"},[e._v(" 更多 "),n("a-icon",{attrs:{type:"down"}})],1),n("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[n("a-menu-item",[n("a",{on:{click:function(t){return e.handleDetail(o)}}},[e._v("详情")])]),e.$auth("support.delete")?n("a-menu-item",[n("a",{on:{click:function(t){return e.handleDelete(o)}}},[e._v("删除")])]):e._e()],1)],1)],2)}}])})],1)},l=[],u=n("2af9"),c=n("0fea"),d={name:"TableList",components:{STable:u["o"],Ellipsis:u["h"]},data:function(){var e=this;return{mdl:{},advanced:!1,queryParam:{},columns:[{title:"序号",scopedSlots:{customRender:"serial"}},{title:"岗位名称",dataIndex:"jobName"},{title:"岗位简称",dataIndex:"jobMask"},{title:"岗位描述",dataIndex:"jobDesc",scopedSlots:{customRender:"desc"}},{title:"操作",dataIndex:"action",width:"150px",scopedSlots:{customRender:"action"}}],loadData:function(t){return Object(c["h"])(Object.assign(t,e.queryParam)).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[],options:{alert:{show:!0,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}},optionAlertShow:!1}},created:function(){this.tableOption()},methods:{tableOption:function(){var e=this;this.optionAlertShow?(this.options={alert:!1,rowSelection:null},this.optionAlertShow=!1):(this.options={alert:{show:!0,clear:function(){e.selectedRowKeys=[]}},rowSelection:{selectedRowKeys:this.selectedRowKeys,onChange:this.onSelectChange}},this.optionAlertShow=!0)},handleAdd:function(){this.$emit("onAdd")},handleOk:function(){},handleEdit:function(e){this.$emit("onEdit",e)},handleDetail:function(e){console.log("record",e),this.$emit("onDetail",e)},handleDelete:function(e){var t=this,n=this,o=[e.id];Object(c["c"])(o).then((function(e){n.$refs.table.refresh(!1),t.$message.success("删除成功")}))},batchDelete:function(){var e=this;console.log("this.selectedRowKeys",this.selectedRowKeys),Object(c["c"])(this.selectedRowKeys).then((function(t){_this.$refs.table.refresh(!1),e.$message.success("删除成功")}))},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},toggleAdvanced:function(){this.advanced=!this.advanced},refresh:function(e){var t=this;this.loadData=function(e){return Object(c["h"])(Object.assign(e,t.queryParam)).then((function(e){return e.result}))},this.$refs.table.refresh(!0)},resetSearchForm:function(){}}},f=d,m=(n("028b"),n("4023")),b=Object(m["a"])(f,s,l,!1,null,null,null),p=b.exports,h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:e.title,width:600,visible:e.visible,confirmLoading:e.confirmLoading,maskClosable:!1,footer:e.footer},on:{ok:e.handleOk,cancel:e.handleCancel}},[n("a-spin",{attrs:{spinning:e.confirmLoading}},[n("a-form",{attrs:{layout:e.formLayout,form:e.form}},[n("a-form-item",{attrs:{label:"岗位名称","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobName",{rules:[{required:!0,message:"请输入岗位名称"}]}],expression:"['jobName',\n            {rules: [{ required: true, message: '请输入岗位名称'}]}\n          ]"}],attrs:{disabled:e.isDetail}})],1),n("a-form-item",{attrs:{label:"岗位编码","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobCode",{}],expression:"['jobCode', {}]"}],attrs:{disabled:e.isDetail}})],1),n("a-form-item",{attrs:{label:"岗位简称","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-input",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobMask",{}],expression:"['jobMask', {}]"}],attrs:{disabled:e.isDetail}})],1),n("a-form-item",{attrs:{label:"描述","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-textarea",{directives:[{name:"decorator",rawName:"v-decorator",value:["jobDesc",{}],expression:"['jobDesc', {}]"}],attrs:{disabled:e.isDetail}})],1),n("a-form-item",{attrs:{label:"排序","label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[n("a-input-number",{directives:[{name:"decorator",rawName:"v-decorator",value:["showOrder",{}],expression:"['showOrder', {}]"}],attrs:{disabled:e.isDetail,min:0}})],1)],1)],1)],1)},v=[],y=(n("e18c"),n("cf73")),w=(n("1bb7"),n("85ee")),j=n.n(w),g={name:"Edit",components:{ATreeSelect:y["a"]},data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},footer:void 0,formLayout:"horizontal",visible:!1,confirmLoading:!1,mdl:{},title:"",isDetail:!1,rowId:""}},beforeCreate:function(){this.form=this.$form.createForm(this),console.log("form::",this.form)},created:function(){},methods:{init:function(){this.rowId="",this.mdl={jobName:"",jobCode:"",jobMask:"",jobDesc:"",showOrder:1}},add:function(e,t){this.init(),this.edit({},t)},edit:function(e,t){var n=this;this.footer=void 0,this.isDetail=!1,this.rowId=e.id,this.mdl=Object.assign(this.mdl,e),this.visible=!0,this.title=t,this.$nextTick((function(){n.form.setFieldsValue(j()(n.mdl,"jobName","jobCode","jobMask","jobDesc","showOrder"))}))},detail:function(e,t){this.edit(e,t),this.isDetail=!0,this.footer=null},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var e=this,t=this;this.isDetail?this.visible=!1:this.form.validateFields((function(n,o){n||(console.log("form values",o),""!==e.rowId&&(o["id"]=e.rowId),t.confirmLoading=!0,Object(c["s"])(o).then((function(e){t.$message.success("保存成功"),t.$emit("ok")})).catch((function(){t.$message.error("保存失败")})).finally((function(){t.confirmLoading=!1,t.close()})))}))},handleCancel:function(){this.close()}}},C=g,O=Object(m["a"])(C,h,v,!1,null,null,null),k=O.exports,D={name:"TableListWrapper",components:{AInput:i["a"],ATextarea:a["a"],JobList:p,Edit:k},data:function(){return{record:""}},created:function(){},methods:{handleAdd:function(e){this.$refs.edit.add("","岗位新建")},handleSaveOk:function(){this.$refs.table.refresh({})},onEdit:function(e){this.$refs.edit.edit(e,"岗位编辑")},onDetail:function(e){this.$refs.edit.detail(e,"岗位详情")},handleSaveClose:function(){}}},I=D,P=Object(m["a"])(I,o,r,!1,null,null,null);t["default"]=P.exports},"85ee":function(e,t,n){(function(t){var n=1/0,o=9007199254740991,r="[object Arguments]",a="[object Function]",i="[object GeneratorFunction]",s="[object Symbol]",l="object"==typeof t&&t&&t.Object===Object&&t,u="object"==typeof self&&self&&self.Object===Object&&self,c=l||u||Function("return this")();function d(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function f(e,t){var n=-1,o=e?e.length:0,r=Array(o);while(++n<o)r[n]=t(e[n],n,e);return r}function m(e,t){var n=-1,o=t.length,r=e.length;while(++n<o)e[r+n]=t[n];return e}var b=Object.prototype,p=b.hasOwnProperty,h=b.toString,v=c.Symbol,y=b.propertyIsEnumerable,w=v?v.isConcatSpreadable:void 0,j=Math.max;function g(e,t,n,o,r){var a=-1,i=e.length;n||(n=D),r||(r=[]);while(++a<i){var s=e[a];t>0&&n(s)?t>1?g(s,t-1,n,o,r):m(r,s):o||(r[r.length]=s)}return r}function C(e,t){return e=Object(e),O(e,t,(function(t,n){return n in e}))}function O(e,t,n){var o=-1,r=t.length,a={};while(++o<r){var i=t[o],s=e[i];n(s,i)&&(a[i]=s)}return a}function k(e,t){return t=j(void 0===t?e.length-1:t,0),function(){var n=arguments,o=-1,r=j(n.length-t,0),a=Array(r);while(++o<r)a[o]=n[t+o];o=-1;var i=Array(t+1);while(++o<t)i[o]=n[o];return i[t]=a,d(e,this,i)}}function D(e){return S(e)||P(e)||!!(w&&e&&e[w])}function I(e){if("string"==typeof e||N(e))return e;var t=e+"";return"0"==t&&1/e==-n?"-0":t}function P(e){return x(e)&&p.call(e,"callee")&&(!y.call(e,"callee")||h.call(e)==r)}var S=Array.isArray;function $(e){return null!=e&&_(e.length)&&!L(e)}function x(e){return R(e)&&$(e)}function L(e){var t=A(e)?h.call(e):"";return t==a||t==i}function _(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=o}function A(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function R(e){return!!e&&"object"==typeof e}function N(e){return"symbol"==typeof e||R(e)&&h.call(e)==s}var T=k((function(e,t){return null==e?{}:C(e,f(g(t,1),I))}));e.exports=T}).call(this,n("9edd"))}}]);